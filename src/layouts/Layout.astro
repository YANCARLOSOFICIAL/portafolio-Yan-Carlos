---
import '../styles/global.css';

interface Props {
	title?: string;
	description?: string;
}

const { title = 'Yan Carlos Guerra - Desarrollador Full Stack', description = 'Portafolio de Yan Carlos Guerra, desarrollador full stack especializado en React, Astro, Node.js y tecnologías modernas.' } = Astro.props;
---

<!doctype html>
<html lang="es" class="">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description} />
		<meta name="author" content="Yan Carlos Guerra" />
		<meta name="keywords" content="desarrollador full stack, React, Astro, Node.js, JavaScript, TypeScript, programador, desarrollo web" />
		
		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:locale" content="es_ES" />
		
		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- Fuentes de Google -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
		
		<title>{title}</title>
	</head>
	<body class="bg-white text-slate-900 dark:bg-slate-900 dark:text-white transition-colors duration-500">
		<slot />
		<footer class="bg-slate-900 text-white py-6 text-center dark:bg-slate-800 dark:text-gray-200 transition-colors duration-500">
			<p class="text-sm">&copy; 2025 Yan Carlos Guerra. Todos los derechos reservados.</p>
			<div class="mt-4 flex justify-center space-x-4">
				<a href="https://github.com/YANCARLOSOFICIAL" target="_blank" class="text-white hover:text-purple-400 dark:hover:text-yellow-400">GitHub</a>
				<a href="https://www.linkedin.com/in/yancarlos-pinchao-guerra-0b928a196" target="_blank" class="text-white hover:text-purple-400 dark:hover:text-yellow-400">LinkedIn</a>
				<a href="mailto:pinnchaoguerrayancarlos@gmail.com" class="text-white hover:text-purple-400 dark:hover:text-yellow-400">Email</a>
			</div>
		</footer>
		<div class="fixed bottom-6 right-6 z-50">
				<button onclick="toggleModal()" class="bg-green-500 text-white p-4 rounded-full shadow-2xl hover:bg-green-600 transition transform hover:scale-110 flex items-center justify-center">
					<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-10 h-10">
						<path d="M12 0C5.373 0 0 5.373 0 12c0 2.123.553 4.168 1.6 5.975L0 24l6.26-1.64C8.03 23.447 10.015 24 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 22c-1.85 0-3.68-.5-5.26-1.44l-.37-.22-3.7.97.99-3.61-.24-.38C2.5 15.68 2 13.85 2 12 2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10zm5.07-6.91c-.28-.14-1.65-.81-1.91-.9-.26-.09-.45-.14-.64.14-.19.28-.74.9-.91 1.08-.17.19-.34.21-.63.07-.28-.14-1.19-.44-2.27-1.41-.84-.75-1.41-1.67-1.58-1.95-.17-.28-.02-.43.13-.57.13-.13.28-.34.42-.51.14-.17.19-.28.28-.47.09-.19.05-.35-.02-.5-.07-.14-.64-1.54-.88-2.12-.23-.56-.47-.48-.64-.49-.17-.01-.35-.01-.54-.01-.19 0-.5.07-.76.35-.26.28-1 1-.99 2.43.01 1.43 1.02 2.81 1.16 3 .14.19 2.01 3.07 4.88 4.3.68.29 1.21.46 1.63.59.68.22 1.3.19 1.79.12.54-.08 1.65-.67 1.88-1.32.23-.65.23-1.2.16-1.32-.07-.12-.26-.19-.54-.33z" />
					</svg>
				</button>
			</div>

			<div id="whatsapp-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
				<div class="bg-white rounded-lg p-6 w-80 shadow-lg">
					<h2 class="text-lg font-bold mb-4 text-center">Enviar mensaje por WhatsApp</h2>
					<textarea id="whatsapp-message" class="w-full border border-gray-300 rounded-lg p-2 mb-4" rows="4" placeholder="Escribe tu mensaje aquí..."></textarea>
					<div class="flex justify-between">
						<button onclick="toggleModal()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400">Cancelar</button>
						<a id="send-whatsapp" href="#" target="_blank" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600">Enviar</a>
					</div>
				</div>
			</div>

			<!-- Botón de modo oscuro/claro -->
			<button id="theme-toggle" class="fixed top-6 right-6 z-50 bg-slate-800 text-white p-2 rounded-full shadow hover:bg-slate-700 transition">
				<svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
					<path id="sun-icon" class="block" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-8.66h-1M4.34 12H3.34m15.02 4.24l-.71-.71M6.34 6.34l-.71-.71m12.02 12.02l-.71-.71M6.34 17.66l-.71-.71M12 7a5 5 0 100 10 5 5 0 000-10z" />
					<path id="moon-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" />
				</svg>
			</button>

			<script>
				window.toggleModal = function () {
					const modal = document.getElementById('whatsapp-modal');
					modal.classList.toggle('hidden');
				};

				document.getElementById('send-whatsapp').addEventListener('click', function () {
					const message = document.getElementById('whatsapp-message').value;
					if (message.trim() !== '') {
						this.href = `https://wa.me/573229369995?text=${encodeURIComponent(message)}`;
					} else {
						alert('Por favor, escribe un mensaje antes de enviar.');
					}
				});

				// Modo oscuro/claro
				const themeToggle = document.getElementById('theme-toggle');
				const sunIcon = document.getElementById('sun-icon');
				const moonIcon = document.getElementById('moon-icon');
				const html = document.documentElement;

				function setTheme(dark) {
					if (dark) {
						html.classList.add('dark');
						sunIcon.classList.add('hidden');
						moonIcon.classList.remove('hidden');
						localStorage.setItem('theme', 'dark');
					} else {
						html.classList.remove('dark');
						sunIcon.classList.remove('hidden');
						moonIcon.classList.add('hidden');
						localStorage.setItem('theme', 'light');
					}
				}

				// Inicializar tema
				setTheme(localStorage.getItem('theme') === 'dark');

				if (themeToggle) {
					themeToggle.addEventListener('click', () => {
						setTheme(!html.classList.contains('dark'));
					});
				}
			</script>

			<!-- Animaciones suaves para el slot principal -->
			<style>
				.fade-in {
					animation: fadeInUp 1s cubic-bezier(.39,.575,.565,1) both;
				}
				@keyframes fadeInUp {
					0% { opacity: 0; transform: translateY(40px); }
					100% { opacity: 1; transform: translateY(0); }
				}
			</style>

			<script>
				window.addEventListener('DOMContentLoaded', () => {
					const main = document.querySelector('main');
					if (main) main.classList.add('fade-in');
				});
			</script>

			<!-- Integración con redes sociales -->
			<div class="fixed left-6 bottom-6 z-50 flex flex-col space-y-3">
				<a href="https://github.com/YANCARLOSOFICIAL" target="_blank" class="bg-slate-800 text-white p-2 rounded-full shadow hover:bg-slate-700 transition flex items-center justify-center">
					<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
						<path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757-1.089-.745.083-.729.083-.729 1.205.084 1.84 1.236 1.84 1.236 1.07 1.834 2.809 1.304 3.495.997.108-.775.418-1.305.762-1.605-2.665-.305-5.466-1.332-5.466-5.93 0-1.31.469-2.381 1.236-3.221-.124-.303-.535-1.523.117-3.176 0 0 1.008-.322 3.301 1.23a11.52 11.52 0 013.003-.404c1.018.005 2.045.138 3.003.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.873.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.61-2.803 5.624-5.475 5.921.43.371.823 1.102.823 2.222 0 1.606-.014 2.898-.014 3.293 0 .322.218.694.825.576C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
					</svg>
				</a>
				<a href="https://www.linkedin.com/in/yancarlos-pinchao-guerra-0b928a196" target="_blank" class="bg-slate-800 text-white p-2 rounded-full shadow hover:bg-slate-700 transition flex items-center justify-center">
					<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
						<path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.761 0 5-2.239 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 11.268h-3v-5.604c0-1.337-.026-3.063-1.868-3.063-1.868 0-2.156 1.459-2.156 2.968v5.699h-3v-10h2.881v1.367h.041c.401-.761 1.379-1.563 2.841-1.563 3.039 0 3.601 2.002 3.601 4.604v5.592z"/>
					</svg>
				</a>
			</div>
	</body>
</html>
